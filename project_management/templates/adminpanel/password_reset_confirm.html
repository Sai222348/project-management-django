{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Set New Password</title>
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
</head>
<body class="d-flex justify-content-center align-items-center min-vh-100 p-3" style="background:#f3f5f9;">
<div class="card p-4 shadow-sm border-0 w-100" style="max-width:420px;">
    <h4 class="mb-3">Set New Password</h4>
    {% if validlink %}
    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            {{ form.new_password1.label_tag }}
            {{ form.new_password1 }}
            <div class="text-danger small">{{ form.new_password1.errors }}</div>
        </div>
        <div class="mb-3">
            {{ form.new_password2.label_tag }}
            {{ form.new_password2 }}
            <div class="text-danger small">{{ form.new_password2.errors }}</div>
        </div>
        <button class="btn btn-dark w-100" type="submit">Reset Password</button>
    </form>
    {% else %}
    <p class="text-danger">This reset link is invalid or expired.</p>
    <a href="{% url 'password_reset' %}" class="btn btn-outline-dark w-100">Request New Link</a>
    {% endif %}
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const pass1 = document.getElementById('id_new_password1');
        const pass2 = document.getElementById('id_new_password2');
        if (pass1) {
            pass1.classList.add('form-control');
        }
        if (pass2) {
            pass2.classList.add('form-control');
        }
    });
</script>
</body>
</html>
